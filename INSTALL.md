# Design Inspector 安装指南

## 安装步骤

### 1. 下载插件文件
确保你已经下载了所有插件文件到本地文件夹，包括：
- `manifest.json`
- `popup.html`
- `popup.js`
- `content.js`
- `content.css`
- `icons/` 文件夹（需要添加图标文件）

### 2. 创建图标文件
由于 Chrome 插件需要图标文件，你需要创建以下尺寸的图标：
- `icons/icon16.png` (16x16 像素)
- `icons/icon32.png` (32x32 像素)
- `icons/icon48.png` (48x48 像素)
- `icons/icon128.png` (128x128 像素)

你可以：
1. 打开项目中的 `create_icons.html` 文件
2. 在浏览器中打开它
3. 点击相应按钮下载不同尺寸的图标
4. 将下载的图标文件放入 `icons/` 文件夹

### 3. 在 Chrome 中加载插件

1. 打开 Chrome 浏览器
2. 在地址栏输入 `chrome://extensions/` 并回车
3. 在右上角开启"开发者模式"
4. 点击"加载已解压的扩展程序"按钮
5. 选择包含插件文件的文件夹
6. 插件将出现在扩展程序列表中

### 4. 验证安装
- 在浏览器工具栏中应该能看到 Design Inspector 图标
- 点击图标应该能打开上传界面

## 使用测试

### 基本功能测试
1. 打开 `test.html` 文件（或任何网页）
2. 点击 Design Inspector 图标
3. 上传一张图片
4. 测试以下功能：
   - 拖拽移动图片
   - 调整图片大小（拖拽四个角的手柄）
   - 使用快捷键：
     - `H` 键显示/隐藏图片
     - `F` 键显示/隐藏工具栏
     - `D` 键冻结/解冻图片
     - 数字键设置透明度
     - 方向键移动图片

### 高级功能测试
1. **透明度控制**：
   - 使用工具栏滑块调整透明度
   - 使用数字键快速设置（如按55设置55%透明度）

2. **混合模式**：
   - 在工具栏中选择不同的混合模式
   - 观察图片与页面的混合效果

3. **尺寸控制**：
   - 使用工具栏输入框精确设置尺寸
   - 使用快捷按钮（原图、2倍、1/2、适应宽度）

4. **状态保存**：
   - 调整图片位置、大小、透明度
   - 刷新页面
   - 验证状态是否恢复

5. **冻结功能**：
   - 按 `D` 键冻结图片
   - 尝试拖拽图片（应该无法移动）
   - 点击页面其他元素（应该正常响应）

## 故障排除

### 插件无法加载
- 检查所有文件是否在正确位置
- 确保 `manifest.json` 格式正确
- 检查是否开启了开发者模式

### 图标不显示
- 确保 `icons/` 文件夹中有所有必需的图标文件
- 检查图标文件名是否正确

### 快捷键不工作
- 点击页面空白处或设计稿获取焦点
- 确保不在输入框中按快捷键
- 检查是否有其他插件冲突

### 工具栏不显示
- 按 `F` 键切换工具栏显示
- 检查浏览器窗口大小（工具栏可能在屏幕外）

### 状态不保存
- 检查浏览器是否允许 localStorage
- 确保不在隐私模式下使用

## 开发调试

如果需要调试插件：

1. 在 `chrome://extensions/` 页面找到插件
2. 点击"详细信息"
3. 点击"检查视图"下的相关链接
4. 使用开发者工具调试

### 常用调试技巧
- 在 content script 中使用 `console.log()` 输出调试信息
- 检查 Chrome 扩展程序的错误日志
- 使用 `chrome.runtime.lastError` 检查 API 调用错误

## 性能优化建议

1. **图片大小**：建议上传的设计稿图片不超过 5MB
2. **浏览器性能**：在复杂页面上使用时，建议冻结设计稿以减少性能影响
3. **内存使用**：长时间使用后可以刷新页面释放内存

## 兼容性说明

- 支持 Chrome 88+ 版本
- 支持 Manifest V3
- 兼容大部分现代网站
- 支持响应式设计和移动端适配
